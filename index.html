<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üöÄ DESBLOQUEA EL FUTURO CON IA - Futuro Digital</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Librer√≠as para PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: #000000;
      color: #FFD700;
      overflow-x: hidden;
      line-height: 1.6;
      position: relative;
      min-height: 100vh;
    }

    /* FONDO CON L√çNEAS EXACTAS DEL MOCKUP - SIN BRILLOS */
    .circuit-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -2;
      background: #000000;
      overflow: hidden;
    }

    /* L√çNEAS DE CIRCUITO EXACTAS COMO EL MOCKUP */
    .circuit-lines {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0.7;
    }

    /* L√≠nea principal diagonal superior */
    .circuit-lines::before {
      content: "";
      position: absolute;
      top: 25%;
      left: -10%;
      width: 120%;
      height: 1px;
      background: linear-gradient(90deg, 
        transparent 0%, 
        #FFD700 15%, 
        #FFD700 85%, 
        transparent 100%);
      transform: rotate(-12deg);
      animation: lineFlow 10s ease-in-out infinite;
    }

    /* L√≠nea diagonal inferior */
    .circuit-lines::after {
      content: "";
      position: absolute;
      bottom: 30%;
      right: -10%;
      width: 90%;
      height: 1px;
      background: linear-gradient(90deg, 
        transparent 0%, 
        #FFD700 20%, 
        #FFD700 80%, 
        transparent 100%);
      transform: rotate(15deg);
      animation: lineFlow 12s ease-in-out infinite reverse;
    }

    /* L√≠neas adicionales del patr√≥n del mockup */
    .circuit-line-1 {
      position: absolute;
      top: 15%;
      left: 10%;
      width: 200px;
      height: 1px;
      background: linear-gradient(90deg, 
        #FFD700 0%, 
        #FFD700 70%, 
        transparent 100%);
      transform: rotate(-8deg);
      animation: subtlePulse 8s ease-in-out infinite;
    }

    .circuit-line-2 {
      position: absolute;
      top: 60%;
      right: 15%;
      width: 180px;
      height: 1px;
      background: linear-gradient(90deg, 
        transparent 0%, 
        #FFD700 30%, 
        #FFD700 100%);
      transform: rotate(20deg);
      animation: subtlePulse 9s ease-in-out infinite 2s;
    }

    .circuit-line-3 {
      position: absolute;
      bottom: 20%;
      left: 20%;
      width: 150px;
      height: 1px;
      background: linear-gradient(90deg, 
        #FFD700 0%, 
        #FFD700 80%, 
        transparent 100%);
      transform: rotate(-25deg);
      animation: subtlePulse 7s ease-in-out infinite 1s;
    }

    .circuit-line-4 {
      position: absolute;
      top: 40%;
      left: 60%;
      width: 120px;
      height: 1px;
      background: linear-gradient(90deg, 
        transparent 0%, 
        #FFD700 40%, 
        #FFD700 100%);
      transform: rotate(35deg);
      animation: subtlePulse 6s ease-in-out infinite 3s;
    }

    .circuit-line-5 {
      position: absolute;
      top: 70%;
      left: 5%;
      width: 160px;
      height: 1px;
      background: linear-gradient(90deg, 
        #FFD700 0%, 
        #FFD700 60%, 
        transparent 100%);
      transform: rotate(-5deg);
      animation: subtlePulse 8s ease-in-out infinite 1.5s;
    }

    /* L√≠neas de conexi√≥n cortas */
    .circuit-connector-1 {
      position: absolute;
      top: 35%;
      left: 30%;
      width: 60px;
      height: 1px;
      background: #FFD700;
      transform: rotate(-45deg);
      animation: connectorPulse 5s ease-in-out infinite;
    }

    .circuit-connector-2 {
      position: absolute;
      bottom: 45%;
      right: 40%;
      width: 80px;
      height: 1px;
      background: #FFD700;
      transform: rotate(30deg);
      animation: connectorPulse 6s ease-in-out infinite 2s;
    }

    /* Nodos de conexi√≥n simples - SIN BRILLO */
    .circuit-node {
      position: absolute;
      width: 2px;
      height: 2px;
      background: #FFD700;
      border-radius: 50%;
      animation: nodeSimple 4s ease-in-out infinite;
    }

    .circuit-node-1 { top: 25%; left: 25%; }
    .circuit-node-2 { top: 40%; right: 30%; }
    .circuit-node-3 { bottom: 30%; left: 20%; }
    .circuit-node-4 { top: 60%; right: 35%; }
    .circuit-node-5 { top: 50%; left: 50%; }

    /* Esquinas t√©cnicas */
    .circuit-corner-1 {
      position: absolute;
      top: 20%;
      left: 15%;
      width: 40px;
      height: 1px;
      background: #FFD700;
      transform-origin: left;
    }

    .circuit-corner-1::after {
      content: "";
      position: absolute;
      top: 0;
      left: 40px;
      width: 1px;
      height: 30px;
      background: #FFD700;
    }

    .circuit-corner-2 {
      position: absolute;
      bottom: 25%;
      right: 20%;
      width: 50px;
      height: 1px;
      background: #FFD700;
      transform-origin: right;
    }

    .circuit-corner-2::after {
      content: "";
      position: absolute;
      top: 0;
      right: 50px;
      width: 1px;
      height: 25px;
      background: #FFD700;
      transform: translateY(-25px);
    }

    /* Animaciones sutiles SIN BRILLOS */
    @keyframes lineFlow {
      0%, 100% { opacity: 0.5; }
      50% { opacity: 0.8; }
    }

    @keyframes subtlePulse {
      0%, 100% { opacity: 0.4; }
      50% { opacity: 0.7; }
    }

    @keyframes connectorPulse {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 0.6; }
    }

    @keyframes nodeSimple {
      0%, 100% { opacity: 0.6; }
      50% { opacity: 1; }
    }

    /* ELEMENTOS HEXAGONALES TECH */
    .hex-pattern {
      position: absolute;
      top: 10%;
      right: 15%;
      width: 20px;
      height: 20px;
      background: transparent;
      border: 1px solid rgba(255, 215, 0, 0.3);
      transform: rotate(30deg);
      animation: hexRotate 20s linear infinite;
    }

    .hex-pattern::before {
      content: "";
      position: absolute;
      top: -10px;
      left: -10px;
      width: 20px;
      height: 20px;
      border: 1px solid rgba(255, 215, 0, 0.2);
      transform: rotate(60deg);
    }

    .hex-pattern-2 {
      position: absolute;
      bottom: 20%;
      left: 10%;
      width: 15px;
      height: 15px;
      background: transparent;
      border: 1px solid rgba(255, 215, 0, 0.4);
      transform: rotate(45deg);
      animation: hexRotate 15s linear infinite reverse;
    }

    @keyframes hexRotate {
      0% { transform: rotate(30deg); opacity: 0.3; }
      50% { transform: rotate(210deg); opacity: 0.6; }
      100% { transform: rotate(390deg); opacity: 0.3; }
    }

    /* DATOS T√âCNICOS FLOTANTES */
    .data-point {
      position: absolute;
      font-family: 'Orbitron', monospace;
      font-size: 0.7rem;
      color: rgba(255, 215, 0, 0.6);
      animation: dataFloat 8s ease-in-out infinite;
    }

    .data-point-1 {
      top: 12%;
      left: 5%;
      animation-delay: 0s;
    }

    .data-point-1::before {
      content: "AI.PROC: 001";
    }

    .data-point-2 {
      top: 45%;
      right: 8%;
      animation-delay: 2s;
    }

    .data-point-2::before {
      content: "ML.SYS: ACTIVE";
    }

    .data-point-3 {
      bottom: 15%;
      left: 60%;
      animation-delay: 4s;
    }

    .data-point-3::before {
      content: "NEURAL.NET: OK";
    }

    @keyframes dataFloat {
      0%, 100% { 
        opacity: 0.4; 
        transform: translateY(0px);
      }
      50% { 
        opacity: 0.8; 
        transform: translateY(-5px);
      }
    }

    /* GRID SUTIL DE FONDO */
    .tech-grid {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(rgba(255, 215, 0, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 215, 0, 0.03) 1px, transparent 1px);
      background-size: 100px 100px;
      opacity: 0.3;
      animation: gridShift 30s linear infinite;
    }

    @keyframes gridShift {
      0% { transform: translate(0, 0); }
      100% { transform: translate(100px, 100px); }
    }

    /* L√çNEAS DE C√ìDIGO SIMULADAS */
    .code-lines {
      position: absolute;
      top: 5%;
      right: 5%;
      font-family: 'Orbitron', monospace;
      font-size: 0.6rem;
      color: rgba(255, 215, 0, 0.4);
      line-height: 1.8;
      animation: codeScroll 12s linear infinite;
    }

    .code-lines::before {
      content: "def process_ai():\n  neural_net.train()\n  return prediction";
      white-space: pre-line;
    }

    @keyframes codeScroll {
      0%, 80% { opacity: 0.4; }
      90% { opacity: 0.7; }
      100% { opacity: 0.4; }
    }

    /* INDICADORES DE ESTADO */
    .status-indicator {
      position: absolute;
      width: 6px;
      height: 6px;
      background: #FFD700;
      border-radius: 50%;
      animation: statusBlink 3s ease-in-out infinite;
    }

    .status-1 {
      top: 8%;
      left: 15%;
      animation-delay: 0s;
    }

    .status-2 {
      top: 75%;
      right: 20%;
      animation-delay: 1s;
    }

    .status-3 {
      bottom: 8%;
      left: 40%;
      animation-delay: 2s;
    }

    @keyframes statusBlink {
      0%, 70% { opacity: 0.3; }
      85% { opacity: 1; }
      100% { opacity: 0.3; }
    }

    /* TERMINAL CURSOR */
    .terminal-cursor {
      position: absolute;
      bottom: 5%;
      right: 10%;
      width: 2px;
      height: 15px;
      background: #FFD700;
      animation: cursorBlink 1s step-end infinite;
    }

    .terminal-cursor::before {
      content: ">";
      position: absolute;
      left: -10px;
      top: 0;
      font-family: 'Orbitron', monospace;
      font-size: 0.8rem;
      color: rgba(255, 215, 0, 0.7);
    }

    @keyframes cursorBlink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }

    /* EFECTOS DE PART√çCULAS MINIMALES */
    .micro-particle {
      position: absolute;
      width: 1px;
      height: 1px;
      background: #FFD700;
      opacity: 0.5;
      animation: microFloat 15s linear infinite;
    }

    .particle-1 {
      top: 20%;
      left: 30%;
      animation-delay: 0s;
    }

    .particle-2 {
      top: 60%;
      left: 70%;
      animation-delay: 5s;
    }

    .particle-3 {
      top: 80%;
      left: 20%;
      animation-delay: 10s;
    }

    @keyframes microFloat {
      0% { 
        transform: translate(0, 0); 
        opacity: 0; 
      }
      10% { 
        opacity: 0.5; 
      }
      90% { 
        opacity: 0.5; 
      }
      100% { 
        transform: translate(50px, -100px); 
        opacity: 0; 
      }
    }

    /* OVERLAY BRILLANTE */
    .glow-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      background: 
        radial-gradient(circle at 20% 20%, rgba(255, 215, 0, 0.03) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(255, 215, 0, 0.03) 0%, transparent 50%),
        radial-gradient(circle at 50% 10%, rgba(255, 215, 0, 0.02) 0%, transparent 60%);
      animation: glowShift 15s ease-in-out infinite;
    }

    @keyframes glowShift {
      0%, 100% { transform: rotate(0deg) scale(1); }
      33% { transform: rotate(120deg) scale(1.1); }
      66% { transform: rotate(240deg) scale(0.9); }
    }

    /* LOGO HEADER √âPICO */
    .logo-header {
      text-align: center;
      padding: 40px 20px;
      margin-bottom: 20px;
      position: relative;
      z-index: 10;
      background: linear-gradient(135deg, rgba(255, 215, 0, 0.05) 0%, rgba(255, 215, 0, 0.02) 50%, rgba(255, 215, 0, 0.05) 100%);
      border-bottom: 2px solid rgba(255, 215, 0, 0.3);
    }

    .logo-container {
      position: relative;
      display: inline-block;
      margin-bottom: 20px;
    }

    .logo-img {
      max-width: 300px;
      height: auto;
      filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.3));
      animation: logoFloat 6s ease-in-out infinite;
    }

    @keyframes logoFloat {
      0%, 100% { 
        transform: translateY(0px) scale(1);
        filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.3));
      }
      50% { 
        transform: translateY(-10px) scale(1.02);
        filter: drop-shadow(0 0 30px rgba(255, 215, 0, 0.5));
      }
    }

    .logo-glow {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 120%;
      height: 120%;
      background: radial-gradient(circle, rgba(255, 215, 0, 0.1) 0%, transparent 70%);
      border-radius: 50%;
      animation: logoGlow 4s ease-in-out infinite alternate;
      pointer-events: none;
    }

    @keyframes logoGlow {
      0% { opacity: 0.3; transform: translate(-50%, -50%) scale(1); }
      100% { opacity: 0.6; transform: translate(-50%, -50%) scale(1.1); }
    }

    .logo-tagline {
      font-family: 'Orbitron', monospace;
      font-size: 1.2rem;
      color: rgba(255, 215, 0, 0.8);
      font-weight: 300;
      letter-spacing: 2px;
      margin-top: 15px;
      text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
    }

    /* CONTENEDOR PRINCIPAL */
    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 60px 40px;
      position: relative;
      z-index: 10;
    }

    /* T√çTULO PRINCIPAL ESTILO LIMPIO (COMO EL QUE TE GUSTA) */
    .main-title {
      font-family: 'Orbitron', monospace;
      font-size: 4.5rem;
      font-weight: 700;
      text-align: center;
      margin: 60px 0 60px 0;
      background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FFD700 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      position: relative;
      letter-spacing: 3px;
      text-transform: uppercase;
    }

    /* L√çNEA DE ESCANEO M√ÅGICA */
    .scan-line {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 1px;
      background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(255, 215, 0, 0.8) 50%, 
        transparent 100%);
      animation: scanMove 8s ease-in-out infinite;
      z-index: 5;
    }

    @keyframes scanMove {
      0%, 100% { 
        top: 0; 
        opacity: 0; 
      }
      10% { 
        opacity: 0.8; 
      }
      90% { 
        opacity: 0.8; 
      }
      100% { 
        top: 100%; 
        opacity: 0; 
      }
    }

    .subtitle {
      text-align: center;
      font-size: 1.5rem;
      color: rgba(255, 215, 0, 0.8);
      margin-bottom: 60px;
      font-weight: 300;
    }

    /* SECCIONES DEL WORKBOOK */
    .workbook-section {
      background: linear-gradient(135deg, rgba(255, 215, 0, 0.08) 0%, rgba(255, 215, 0, 0.03) 50%, rgba(255, 215, 0, 0.08) 100%);
      border: 2px solid rgba(255, 215, 0, 0.3);
      border-radius: 25px;
      padding: 50px;
      margin: 60px 0;
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(20px);
    }

    .section-title {
      font-family: 'Orbitron', monospace;
      font-size: 2.5rem;
      font-weight: 800;
      color: #FFD700;
      margin-bottom: 30px;
      text-align: center;
      text-shadow: 0 0 20px rgba(255, 215, 0, 0.4);
    }

    .section-subtitle {
      text-align: center;
      font-size: 1.2rem;
      color: rgba(255, 215, 0, 0.8);
      margin-bottom: 40px;
      font-weight: 300;
    }

    /* ICONOS FUTURISTAS */
    .ai-icon {
      width: 80px;
      height: 80px;
      margin: 0 auto 20px;
      background: 
        linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.1) 100%),
        radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
      border: 3px solid rgba(255, 215, 0, 0.4);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.5rem;
      animation: iconFloat 4s ease-in-out infinite;
      backdrop-filter: blur(10px);
    }

    @keyframes iconFloat {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-8px); }
    }

    /* INPUTS ELEGANTES */
    .fun-input, .fun-textarea {
      background: 
        linear-gradient(135deg, rgba(0, 0, 0, 0.9) 0%, rgba(10, 10, 10, 0.9) 100%),
        linear-gradient(45deg, transparent 30%, rgba(255, 215, 0, 0.05) 50%, transparent 70%);
      border: 2px solid rgba(255, 215, 0, 0.4);
      border-radius: 15px;
      padding: 15px 20px;
      color: #FFD700;
      font-size: 1.1rem;
      font-family: 'Inter', sans-serif;
      font-weight: 500;
      width: 100%;
      transition: all 0.4s ease;
      backdrop-filter: blur(10px);
      box-shadow: inset 0 0 20px rgba(255, 215, 0, 0.1);
      margin-bottom: 20px;
    }

    .fun-input:focus, .fun-textarea:focus {
      outline: none;
      border-color: #FFD700;
      box-shadow: 
        0 0 30px rgba(255, 215, 0, 0.4),
        inset 0 0 30px rgba(255, 215, 0, 0.15);
      transform: scale(1.02);
    }

    .fun-input::placeholder, .fun-textarea::placeholder {
      color: rgba(255, 215, 0, 0.5);
      font-style: italic;
    }

    .fun-textarea {
      resize: vertical;
      min-height: 120px;
    }

    /* GRID DE PREGUNTAS */
    .questions-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 30px;
      margin: 40px 0;
    }

    .question-card {
      background: rgba(255, 215, 0, 0.05);
      border: 2px solid rgba(255, 215, 0, 0.3);
      border-radius: 20px;
      padding: 30px;
      text-align: center;
      transition: all 0.3s ease;
    }

    .question-card:hover {
      border-color: #FFD700;
      background: rgba(255, 215, 0, 0.1);
      transform: translateY(-5px);
    }

    .question-text {
      font-family: 'Orbitron', monospace;
      font-size: 1.3rem;
      font-weight: 700;
      color: #FFD700;
      margin-bottom: 20px;
      line-height: 1.3;
    }

    /* GRID DE AVATARES */
    .avatar-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 25px;
      margin: 40px 0;
    }

    .avatar-card {
      background: rgba(255, 215, 0, 0.05);
      border: 2px solid rgba(255, 215, 0, 0.3);
      border-radius: 15px;
      padding: 25px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .avatar-card:hover {
      border-color: #FFD700;
      background: rgba(255, 215, 0, 0.1);
      transform: translateY(-5px);
    }

    .avatar-card.selected {
      border-color: #FFD700;
      background: rgba(255, 215, 0, 0.15);
      box-shadow: 0 10px 25px rgba(255, 215, 0, 0.2);
    }

    .avatar-icon {
      width: 60px;
      height: 60px;
      margin: 0 auto 15px;
      background: rgba(255, 215, 0, 0.1);
      border: 2px solid rgba(255, 215, 0, 0.4);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.8rem;
    }

    .avatar-name {
      font-family: 'Orbitron', monospace;
      font-size: 1.1rem;
      font-weight: 700;
      color: #FFD700;
      margin-bottom: 8px;
    }

    .avatar-desc {
      font-size: 0.9rem;
      color: rgba(255, 215, 0, 0.7);
      line-height: 1.3;
      margin-bottom: 10px;
    }

    .avatar-details {
      font-size: 0.8rem;
      color: rgba(255, 215, 0, 0.6);
      line-height: 1.2;
      font-style: italic;
    }

    /* TEST DE PERSONALIDAD */
    .personality-test {
      background: rgba(255, 215, 0, 0.08);
      border: 2px solid rgba(255, 215, 0, 0.4);
      border-radius: 20px;
      padding: 30px;
      margin: 30px 0;
      text-align: center;
    }

    .test-question {
      font-family: 'Orbitron', monospace;
      font-size: 1.3rem;
      color: #FFD700;
      margin-bottom: 25px;
      font-weight: 600;
    }

    .test-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin: 25px 0;
    }

    .test-option {
      background: rgba(255, 215, 0, 0.05);
      border: 2px solid rgba(255, 215, 0, 0.3);
      border-radius: 15px;
      padding: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
    }

    .test-option:hover {
      border-color: #FFD700;
      background: rgba(255, 215, 0, 0.1);
      transform: translateY(-3px);
    }

    .test-option.selected {
      border-color: #FFD700;
      background: rgba(255, 215, 0, 0.15);
      box-shadow: 0 10px 25px rgba(255, 215, 0, 0.2);
    }

    .option-emoji {
      font-size: 2rem;
      margin-bottom: 10px;
    }

    .option-title {
      font-family: 'Orbitron', monospace;
      font-weight: 600;
      color: #FFD700;
      font-size: 0.9rem;
      margin-bottom: 5px;
    }

    .option-desc {
      font-size: 0.8rem;
      color: rgba(255, 215, 0, 0.7);
      line-height: 1.3;
    }

    /* RESULTADO DEL TEST */
    .test-result {
      margin: 30px 0;
      padding: 25px;
      background: rgba(255, 215, 0, 0.1);
      border: 2px solid rgba(255, 215, 0, 0.4);
      border-radius: 15px;
      text-align: center;
      display: none;
    }

    .test-result.show {
      display: block;
    }

    /* SLIDER DE PYTHON ARREGLADO */
    .python-slider-container {
      display: flex;
      align-items: center;
      gap: 30px;
      margin: 40px 0;
      padding: 30px;
      background: rgba(255, 215, 0, 0.05);
      border-radius: 20px;
      border: 1px solid rgba(255, 215, 0, 0.2);
    }

    .python-display {
      min-width: 120px;
      text-align: center;
    }

    .python-emoji {
      font-size: 3rem;
      margin-bottom: 10px;
    }

    .python-level {
      font-family: 'Orbitron', monospace;
      font-size: 1rem;
      color: #FFD700;
      font-weight: 600;
    }

    .python-slider {
      flex: 1;
    }

    #aiWorkbookPythonSlider {
      -webkit-appearance: none;
      width: 100%;
      height: 8px;
      background: rgba(255, 215, 0, 0.2);
      border-radius: 10px;
      outline: none;
    }

    #aiWorkbookPythonSlider::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 25px;
      height: 25px;
      background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
      border-radius: 50%;
      cursor: pointer;
      box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
    }

    #aiWorkbookPythonSlider::-moz-range-thumb {
      width: 25px;
      height: 25px;
      background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
      border-radius: 50%;
      cursor: pointer;
      border: none;
      box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
    }

    .python-description {
      text-align: center;
      margin-top: 20px;
      font-family: 'Orbitron', monospace;
      font-size: 1rem;
      color: #FFD700;
      font-style: italic;
      padding: 15px;
      background: rgba(255, 215, 0, 0.05);
      border-radius: 10px;
    }

    /* GRID DE PROYECTOS √âPICO */
    .projects-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 25px;
      margin: 40px 0;
      position: relative;
    }

    .project-option, .industry-option {
      background: 
        linear-gradient(135deg, rgba(255, 215, 0, 0.08) 0%, rgba(255, 215, 0, 0.03) 50%, rgba(255, 215, 0, 0.08) 100%),
        radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.05) 0%, transparent 70%);
      border: 2px solid rgba(255, 215, 0, 0.4);
      border-radius: 20px;
      padding: 25px 20px;
      text-align: center;
      cursor: pointer;
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(10px);
      transform-style: preserve-3d;
      min-height: 140px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .project-option::before, .industry-option::before {
      content: "";
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent, rgba(255, 215, 0, 0.1), transparent);
      transform: rotate(45deg) scale(0);
      transition: all 0.6s ease;
      opacity: 0;
    }

    .project-option:hover, .industry-option:hover {
      border-color: #FFD700;
      background: 
        linear-gradient(135deg, rgba(255, 215, 0, 0.15) 0%, rgba(255, 215, 0, 0.08) 50%, rgba(255, 215, 0, 0.15) 100%),
        radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
      transform: translateY(-8px) rotateX(5deg) rotateY(5deg) scale(1.02);
      box-shadow: 
        0 20px 40px rgba(255, 215, 0, 0.3),
        0 0 60px rgba(255, 215, 0, 0.15),
        inset 0 0 30px rgba(255, 215, 0, 0.05);
    }

    .project-option:hover::before, .industry-option:hover::before {
      opacity: 1;
      transform: rotate(45deg) scale(1);
    }

    .project-option.selected, .industry-option.selected {
      border-color: #FFD700;
      background: 
        linear-gradient(135deg, rgba(255, 215, 0, 0.25) 0%, rgba(255, 215, 0, 0.15) 50%, rgba(255, 215, 0, 0.25) 100%),
        radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.15) 0%, transparent 70%);
      transform: translateY(-5px) scale(1.05);
      box-shadow: 
        0 25px 50px rgba(255, 215, 0, 0.4),
        0 0 80px rgba(255, 215, 0, 0.25),
        inset 0 0 40px rgba(255, 215, 0, 0.1);
      animation: selectedPulse 2s ease-in-out infinite;
    }

    @keyframes selectedPulse {
      0%, 100% { 
        box-shadow: 
          0 25px 50px rgba(255, 215, 0, 0.4),
          0 0 80px rgba(255, 215, 0, 0.25),
          inset 0 0 40px rgba(255, 215, 0, 0.1);
      }
      50% { 
        box-shadow: 
          0 30px 60px rgba(255, 215, 0, 0.5),
          0 0 100px rgba(255, 215, 0, 0.3),
          inset 0 0 50px rgba(255, 215, 0, 0.15);
      }
    }

    .option-icon {
      font-size: 2.5rem;
      margin-bottom: 12px;
      animation: iconFloat 3s ease-in-out infinite;
      filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.3));
    }

    @keyframes iconFloat {
      0%, 100% { transform: translateY(0px) scale(1); }
      50% { transform: translateY(-5px) scale(1.1); }
    }

    .option-title {
      font-family: 'Orbitron', monospace;
      font-weight: 700;
      color: #FFD700;
      font-size: 0.95rem;
      margin-bottom: 8px;
      letter-spacing: 0.5px;
      text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
    }

    .option-desc {
      font-size: 0.85rem;
      color: rgba(255, 215, 0, 0.8);
      line-height: 1.3;
      font-weight: 400;
    }

    /* CAMPOS DE ENTRADA PERSONALIZADA */
    .custom-input-container {
      margin-top: 20px;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.5s ease;
      pointer-events: none;
    }

    .custom-input-container.show {
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
    }

    .custom-input {
      background: 
        linear-gradient(135deg, rgba(0, 0, 0, 0.9) 0%, rgba(10, 10, 10, 0.9) 100%),
        linear-gradient(45deg, transparent 30%, rgba(255, 215, 0, 0.1) 50%, transparent 70%);
      border: 2px solid rgba(255, 215, 0, 0.5);
      border-radius: 15px;
      padding: 15px 20px;
      color: #FFD700;
      font-size: 1rem;
      font-family: 'Orbitron', monospace;
      font-weight: 500;
      width: 100%;
      transition: all 0.4s ease;
      backdrop-filter: blur(15px);
      box-shadow: 
        inset 0 0 20px rgba(255, 215, 0, 0.1),
        0 0 30px rgba(255, 215, 0, 0.2);
      text-align: center;
    }

    .custom-input:focus {
      outline: none;
      border-color: #FFD700;
      box-shadow: 
        0 0 40px rgba(255, 215, 0, 0.5),
        inset 0 0 30px rgba(255, 215, 0, 0.2),
        0 0 80px rgba(255, 215, 0, 0.3);
      transform: scale(1.02);
    }

    .custom-input::placeholder {
      color: rgba(255, 215, 0, 0.6);
      font-style: italic;
    }

    /* PASOS DEL PROYECTO CON EFECTOS ESPECIALES */
    .project-step {
      margin: 50px 0;
      padding: 40px;
      background: 
        linear-gradient(135deg, rgba(255, 215, 0, 0.06) 0%, rgba(255, 215, 0, 0.02) 50%, rgba(255, 215, 0, 0.06) 100%),
        radial-gradient(circle at 20% 80%, rgba(255, 215, 0, 0.08) 0%, transparent 50%);
      border: 2px solid rgba(255, 215, 0, 0.3);
      border-radius: 25px;
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(20px);
    }

    .project-step::before {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.1), transparent);
      animation: stepSweep 4s ease-in-out infinite;
    }

    @keyframes stepSweep {
      0%, 100% { left: -100%; }
      50% { left: 100%; }
    }

    .step-title {
      font-family: 'Orbitron', monospace;
      font-size: 1.5rem;
      color: #FFD700;
      margin-bottom: 25px;
      text-align: center;
      position: relative;
      z-index: 10;
      text-shadow: 0 0 15px rgba(255, 215, 0, 0.4);
      animation: titleGlow 3s ease-in-out infinite alternate;
    }

    /* ANIMACIONES √âPICAS ADICIONALES */
    @keyframes hologramSweep {
      0% { transform: translateX(-200%) translateY(-200%) rotate(45deg); }
      100% { transform: translateX(200%) translateY(200%) rotate(45deg); }
    }

    @keyframes commitmentSweep {
      0% { transform: translateX(-100%) skewX(-15deg); }
      100% { transform: translateX(200%) skewX(-15deg); }
    }

    @keyframes declarationGlow {
      0% { transform: translateX(-150%) translateY(-150%) rotate(45deg); }
      100% { transform: translateX(150%) translateY(150%) rotate(45deg); }
    }

    @keyframes signatureScan {
      0%, 100% { left: -100%; opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { left: 100%; opacity: 0; }
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-15px) rotate(180deg); }
    }

    /* VALIDACI√ìN DE NOMBRE */
    .name-valid {
      color: #4CAF50 !important;
      border-color: #4CAF50 !important;
      box-shadow: 0 0 30px rgba(76, 175, 80, 0.4) !important;
    }

    .name-invalid {
      color: #ff4444 !important;
      border-color: #ff4444 !important;
      box-shadow: 0 0 30px rgba(255, 68, 68, 0.4) !important;
    }

    /* BOTONES PRINCIPALES */
    .epic-btn {
      background: linear-gradient(135deg, #FFD700 0%, #FFA500 25%, #FFD700 50%, #FFA500 75%, #FFD700 100%);
      background-size: 300% 300%;
      border: none;
      padding: 20px 50px;
      border-radius: 50px;
      color: #000000;
      font-family: 'Orbitron', monospace;
      font-size: 1.2rem;
      font-weight: 800;
      cursor: pointer;
      transition: all 0.4s ease;
      box-shadow: 
        0 15px 40px rgba(255, 215, 0, 0.4),
        0 0 60px rgba(255, 215, 0, 0.2);
      display: block;
      margin: 40px auto;
      letter-spacing: 1px;
      text-transform: uppercase;
      animation: btnGlow 3s ease-in-out infinite alternate;
    }

    @keyframes btnGlow {
      0% { 
        background-position: 0% 50%;
        box-shadow: 0 15px 40px rgba(255, 215, 0, 0.4), 0 0 60px rgba(255, 215, 0, 0.2);
      }
      100% { 
        background-position: 100% 50%;
        box-shadow: 0 20px 50px rgba(255, 215, 0, 0.6), 0 0 80px rgba(255, 215, 0, 0.3);
      }
    }

    .epic-btn:hover {
      transform: translateY(-5px) scale(1.05);
      box-shadow: 
        0 25px 60px rgba(255, 215, 0, 0.6),
        0 0 100px rgba(255, 215, 0, 0.4);
    }

    /* SECCI√ìN FINAL */
    .final-section {
      text-align: center;
      padding: 60px 0;
      margin-top: 80px;
    }

    .final-title {
      font-family: 'Orbitron', monospace;
      font-size: 3rem;
      color: #FFD700;
      margin: 30px 0;
      text-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
    }

    .final-text {
      font-size: 1.3rem;
      color: rgba(255, 215, 0, 0.8);
      margin-bottom: 40px;
      line-height: 1.5;
    }

    .btn-download {
      background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
    }

    /* SAVE MESSAGE */
    .save-message {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: linear-gradient(135deg, rgba(255, 215, 0, 0.9) 0%, rgba(255, 165, 0, 0.9) 100%);
      color: #000;
      padding: 15px 25px;
      border-radius: 50px;
      font-family: 'Orbitron', monospace;
      font-weight: 600;
      z-index: 10000;
      box-shadow: 0 10px 30px rgba(255, 215, 0, 0.4);
      opacity: 0;
      transition: all 0.3s ease;
    }

    .save-message.show {
      opacity: 1;
    }

    /* RESPONSIVE */
    @media (max-width: 768px) {
      .container {
        padding: 40px 20px;
      }
      
      .main-title {
        font-size: 3rem;
      }
      
      .questions-grid {
        grid-template-columns: 1fr;
      }
      
      .python-slider-container {
        flex-direction: column;
        gap: 20px;
      }
      
      .avatar-grid {
        grid-template-columns: 1fr;
      }

      .logo-img {
        max-width: 200px;
      }
    }
  </style>
</head>

<body>
  <!-- FONDO CON L√çNEAS EXACTAS DEL MOCKUP + ELEMENTOS TECH -->
  <div class="circuit-bg">
    <div class="tech-grid"></div>
    <div class="circuit-lines">
      <div class="circuit-line-1"></div>
      <div class="circuit-line-2"></div>
      <div class="circuit-line-3"></div>
      <div class="circuit-line-4"></div>
      <div class="circuit-line-5"></div>
      <div class="circuit-connector-1"></div>
      <div class="circuit-connector-2"></div>
      <div class="circuit-corner-1"></div>
      <div class="circuit-corner-2"></div>
      <div class="circuit-node circuit-node-1"></div>
      <div class="circuit-node circuit-node-2"></div>
      <div class="circuit-node circuit-node-3"></div>
      <div class="circuit-node circuit-node-4"></div>
      <div class="circuit-node circuit-node-5"></div>
    </div>
    
    <!-- ELEMENTOS TECH ADICIONALES -->
    <div class="hex-pattern"></div>
    <div class="hex-pattern-2"></div>
    <div class="data-point data-point-1"></div>
    <div class="data-point data-point-2"></div>
    <div class="data-point data-point-3"></div>
    <div class="code-lines"></div>
    <div class="status-indicator status-1"></div>
    <div class="status-indicator status-2"></div>
    <div class="status-indicator status-3"></div>
    <div class="terminal-cursor"></div>
    <div class="micro-particle particle-1"></div>
    <div class="micro-particle particle-2"></div>
    <div class="micro-particle particle-3"></div>
    <!-- L√çNEA DE ESCANEO M√ÅGICA -->
    <div class="scan-line"></div>
  </div>
  <div class="glow-overlay"></div>

  <!-- MENSAJE DE GUARDADO -->
  <div class="save-message" id="aiWorkbookSaveMessage">‚ú® ¬°DATOS GUARDADOS M√ÅGICAMENTE!</div>

  <div class="container">
    <!-- LOGO EN EL ESPACIO NEGRO ARRIBA DEL T√çTULO -->
    <div class="logo-container" style="text-align: center; margin: 40px 0 60px 0; position: relative; z-index: 10;">
      <div class="logo-glow"></div>
      <img id="mainLogo" 
           src="./futuro_digital_logo_correcto.png" 
           alt="Futuro Digital - Logo" 
           class="logo-img"
           style="max-width: 250px; height: auto;"
           onerror="tryAlternativeLogos(this)">
      <div class="logo-fallback" style="display: none; font-family: 'Orbitron', monospace; font-size: 2rem; color: #FFD700; font-weight: 700; text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);">
        üöÄ FUTURO DIGITAL
      </div>
      <div style="font-family: 'Orbitron', monospace; font-size: 1rem; color: rgba(255, 215, 0, 0.7); font-weight: 300; letter-spacing: 1px; margin-top: 10px;">
        EDUCACI√ìN Y TECNOLOG√çA
      </div>
    </div>

    <!-- T√çTULO PRINCIPAL ESTILO LIMPIO -->
    <h1 class="main-title">DESBLOQUEA EL FUTURO CON IA</h1>
    <p class="subtitle">‚ú® El test m√°s √©pico para conocer tu futuro como maestro de la IA ‚ú®</p>

    <!-- SECCI√ìN DE IDENTIFICACI√ìN PERSONAL -->
    <section class="workbook-section" style="margin-top: 40px; border: 3px solid #FFD700; background: linear-gradient(135deg, rgba(255, 215, 0, 0.15) 0%, rgba(255, 215, 0, 0.05) 50%, rgba(255, 215, 0, 0.15) 100%);">
      <div class="ai-icon" style="font-size: 3.5rem; width: 100px; height: 100px;">üë§</div>
      <h2 class="section-title" style="font-size: 2.2rem;">üåü ¬øQui√©n eres, futuro maestro de la IA?</h2>
      <p class="section-subtitle">Tu nombre ser√° tu pase de entrada al futuro digital</p>
      
      <div style="max-width: 500px; margin: 0 auto; text-align: center;">
        <div style="margin: 30px 0; padding: 30px; background: rgba(0, 0, 0, 0.8); border: 2px solid #FFD700; border-radius: 20px; position: relative; overflow: hidden;">
          <div style="position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: linear-gradient(45deg, transparent, rgba(255, 215, 0, 0.1), transparent); animation: hologramSweep 3s linear infinite;"></div>
          
          <label style="display: block; font-family: 'Orbitron', monospace; font-size: 1.3rem; color: #FFD700; margin-bottom: 20px; text-shadow: 0 0 15px rgba(255, 215, 0, 0.5); position: relative; z-index: 10;">
            ‚ú® Tu Nombre Completo
          </label>
          <input type="text" class="fun-input" placeholder="Escribe tu nombre completo aqu√≠..." id="aiWorkbookUserName" 
                 style="font-size: 1.4rem; text-align: center; padding: 20px; border: 3px solid #FFD700; box-shadow: 0 0 40px rgba(255, 215, 0, 0.4); position: relative; z-index: 10;" 
                 maxlength="50" required>
          
          <div style="margin-top: 15px; font-size: 0.9rem; color: rgba(255, 215, 0, 0.7); position: relative; z-index: 10;">
            üîê Este ser√° tu identificador √∫nico en nuestra base de datos
          </div>
        </div>
        
        <div id="aiWorkbookNameValidation" style="margin-top: 15px; font-family: 'Orbitron', monospace; font-size: 1rem; opacity: 0; transition: all 0.3s ease;"></div>
      </div>
    </section>

    <!-- SECCI√ìN 1: DESCUBRE TU MOTIVACI√ìN -->
    <section class="workbook-section">
      <div class="ai-icon">üß†</div>
      <h2 class="section-title">üí´ ¬øQu√© te mueve hacia la IA?</h2>
      <p class="section-subtitle">Hablemos de tus sue√±os y ambiciones...</p>
      
      <div class="questions-grid">
        <div class="question-card">
          <div class="ai-icon">üéØ</div>
          <h3 class="question-text">Si tuvieras una varita m√°gica de IA, ¬øqu√© problema del mundo resolver√≠as primero?</h3>
          <input type="text" class="fun-input" placeholder="Ej: 'Ayudar a doctores a salvar m√°s vidas' o 'Hacer que trabajar sea m√°s divertido'..." id="aiWorkbookWorldProblem">
        </div>

        <div class="question-card">
          <div class="ai-icon">üí∞</div>
          <h3 class="question-text">¬øEn qu√© √°rea te gustar√≠a ser el "mago de la IA" que todos admiran?</h3>
          <input type="text" class="fun-input" placeholder="Ej: 'En mi trabajo actual' o 'Creando mi propia empresa'..." id="aiWorkbookMagicArea">
        </div>
      </div>

      <div style="margin: 50px 0; text-align: center; padding: 40px; background: rgba(255, 215, 0, 0.1); border-radius: 20px;">
        <h3 style="font-family: 'Orbitron', monospace; font-size: 1.8rem; color: #FFD700; margin-bottom: 25px;">
          üí≠ Completa esta frase con total honestidad:
        </h3>
        <div style="font-size: 1.5rem; margin-bottom: 20px; color: rgba(255, 215, 0, 0.9);">"Dominar la IA me ayudar√° a..."</div>
        <input type="text" class="fun-input" placeholder="Ej: 'tener la libertad de trabajar desde donde quiera' o 'ganar lo suficiente para ayudar a mi familia'..." id="aiWorkbookCompleteDream" style="font-size: 1.3rem; text-align: center;">
      </div>
    </section>

    <!-- SECCI√ìN 2: TEST DE PERSONALIDAD IA -->
    <section class="workbook-section">
      <div class="ai-icon">üîÆ</div>
      <h2 class="section-title">üé≠ ¬øQu√© tipo de genio de la IA eres?</h2>
      <p class="section-subtitle">¬°Descubre tu superpoder oculto!</p>
      
      <div class="personality-test">
        <div class="test-question">ü§ñ Si fueras una IA, ¬øcu√°l ser√≠a tu superpoder?</div>
        
        <div class="test-options">
          <div class="test-option" data-personality="innovator">
            <div class="option-emoji">üöÄ</div>
            <div class="option-title">EL INNOVADOR</div>
            <div class="option-desc">Crear cosas que nadie ha imaginado antes</div>
          </div>
          
          <div class="test-option" data-personality="solver">
            <div class="option-emoji">üß©</div>
            <div class="option-title">EL SOLUCIONADOR</div>
            <div class="option-desc">Arreglar problemas complejos con elegancia</div>
          </div>
          
          <div class="test-option" data-personality="teacher">
            <div class="option-emoji">üß†</div>
            <div class="option-title">EL ENSE√ëADOR</div>
            <div class="option-desc">Ayudar a otros a entender y crecer</div>
          </div>
          
          <div class="test-option" data-personality="builder">
            <div class="option-emoji">‚ö°</div>
            <div class="option-title">EL CONSTRUCTOR</div>
            <div class="option-desc">Construir sistemas que cambien el juego</div>
          </div>
        </div>
        
        <div class="test-result" id="aiWorkbookPersonalityResult">
          <h3 style="font-family: 'Orbitron', monospace; font-size: 1.5rem; color: #FFD700; margin-bottom: 15px;">
            üéâ ¬°Tu superpoder ha sido revelado!
          </h3>
          <div id="aiWorkbookPersonalityDescription" style="font-size: 1.2rem; color: #FFD700; margin-bottom: 20px;"></div>
        </div>
      </div>
    </section>

    <!-- SECCI√ìN 3: ENCUENTRA TU AVATAR -->
    <section class="workbook-section">
      <div class="ai-icon">üë§</div>
      <h2 class="section-title">üéØ ¬øCon cu√°l de estos te identificas m√°s?</h2>
      <p class="section-subtitle">Encuentra tu alma gemela en el mundo tech</p>
      
      <div class="avatar-grid">
        <div class="avatar-card" data-avatar="esteban">
          <div class="avatar-icon">üë®‚Äçüíº</div>
          <h3 class="avatar-name">Esteban "El Ambicioso"</h3>
          <p class="avatar-desc">Trabajas en una empresa pero sientes que puedes dar mucho m√°s</p>
          <p class="avatar-details">‚Ä¢ 24-35 a√±os ‚Ä¢ Guadalajara ‚Ä¢ Quiere crecer profesionalmente ‚Ä¢ Teme quedarse obsoleto</p>
        </div>
        
        <div class="avatar-card" data-avatar="sofia">
          <div class="avatar-icon">üë©‚ÄçüöÄ</div>
          <h3 class="avatar-name">Sof√≠a "La Independiente"</h3>
          <p class="avatar-desc">Eres freelancer y quieres crear tu propio SaaS con IA</p>
          <p class="avatar-details">‚Ä¢ 29 a√±os ‚Ä¢ GDL/MTY ‚Ä¢ Desarrolladora independiente ‚Ä¢ Sue√±a con su startup</p>
        </div>
        
        <div class="avatar-card" data-avatar="bruno">
          <div class="avatar-icon">üë®‚Äçüî¨</div>
          <h3 class="avatar-name">Bruno "El T√©cnico"</h3>
          <p class="avatar-desc">Eres DevOps/Backend y quieres integrar IA sin depender de data scientists</p>
          <p class="avatar-details">‚Ä¢ 30-38 a√±os ‚Ä¢ CDMX ‚Ä¢ Ingeniero Backend/DevOps ‚Ä¢ Busca autonom√≠a t√©cnica</p>
        </div>
        
        <div class="avatar-card" data-avatar="diego">
          <div class="avatar-icon">üåç</div>
          <h3 class="avatar-name">Diego "El So√±ador"</h3>
          <p class="avatar-desc">Quieres migrar a Canad√°/Europa y necesitas destacar con IA</p>
          <p class="avatar-details">‚Ä¢ 26-32 a√±os ‚Ä¢ CDMX ‚Ä¢ Freelancer ‚Ä¢ Sue√±a con trabajar en el extranjero</p>
        </div>
        
        <div class="avatar-card" data-avatar="kevin">
          <div class="avatar-icon">üë®‚Äçüíª</div>
          <h3 class="avatar-name">Kevin "El Hambriento"</h3>
          <p class="avatar-desc">Reci√©n egresado que quiere sobresalir y conseguir su primer gran empleo</p>
          <p class="avatar-details">‚Ä¢ 22-25 a√±os ‚Ä¢ CDMX ‚Ä¢ Reci√©n egresado ‚Ä¢ Busca ventaja competitiva</p>
        </div>
      </div>
    </section>

    <!-- SECCI√ìN 4: NIVEL DE PYTHON DIVERTIDO -->
    <section class="workbook-section">
      <div class="ai-icon">üêç</div>
      <h2 class="section-title">üéÆ ¬øQu√© tal andas con Python?</h2>
      <p class="section-subtitle">¬°S√© honesto, nadie te est√° juzgando!</p>
      
      <div class="python-slider-container">
        <div class="python-display">
          <div class="python-emoji" id="aiWorkbookPythonEmoji">üòÖ</div>
          <div class="python-level" id="aiWorkbookPythonLevel">NOVATO TOTAL</div>
        </div>
        
        <div class="python-slider">
          <input type="range" id="aiWorkbookPythonSlider" min="1" max="5" value="1">
          <div style="display: flex; justify-content: space-between; margin-top: 10px; font-size: 0.8rem; color: rgba(255, 215, 0, 0.6);">
            <span>üòÖ Novato</span>
            <span>ü§î B√°sico</span>
            <span>üêç Intermedio</span>
            <span>üß† Avanzado</span>
            <span>ü§ñ Ninja</span>
          </div>
        </div>
      </div>
      
      <div class="python-description" id="aiWorkbookPythonDescription">
        "Python... ¬øeso no es una serpiente? üêç"
      </div>

      <div style="margin: 40px 0;">
        <label style="display: block; font-family: 'Orbitron', monospace; font-size: 1.2rem; color: #FFD700; margin-bottom: 20px; text-align: center;">
          üí≠ ¬øQu√© te emociona m√°s de la idea de programar con IA?
        </label>
        <textarea class="fun-textarea" id="aiWorkbookPythonExcitement" 
                  placeholder="Ej: 'Crear un bot que me ayude en el trabajo' o 'Hacer que mi computadora entienda lo que le digo'..."></textarea>
      </div>
    </section>

    <!-- SECCI√ìN 5: SIMULADOR DE PROYECTOS √âPICOS MEJORADO -->
    <section class="workbook-section">
      <div class="ai-icon">üß™</div>
      <h2 class="section-title">‚ö° Construye tu proyecto de ensue√±o</h2>
      <p class="section-subtitle">¬°Vamos a crear algo incre√≠ble juntos!</p>
      
      <!-- PASO 1: TIPO DE IA -->
      <div class="project-step">
        <h3 class="step-title">üéØ PASO 1: ¬øQu√© tipo de IA quieres crear?</h3>
        <div class="projects-grid">
          <div class="project-option" data-value="asistente">
            <div class="option-icon">ü§ñ</div>
            <div class="option-title">ASISTENTE M√ÅGICO</div>
            <div class="option-desc">Un ayudante inteligente que entiende todo</div>
          </div>
          <div class="project-option" data-value="vision">
            <div class="option-icon">üëÅÔ∏è</div>
            <div class="option-title">OJOS BI√ìNICOS</div>
            <div class="option-desc">IA que ve y reconoce cosas incre√≠bles</div>
          </div>
          <div class="project-option" data-value="predictor">
            <div class="option-icon">üîÆ</div>
            <div class="option-title">BOLA DE CRISTAL</div>
            <div class="option-desc">Predice el futuro con datos</div>
          </div>
          <div class="project-option" data-value="automatizador">
            <div class="option-icon">‚ö°</div>
            <div class="option-title">ROBOT TRABAJADOR</div>
            <div class="option-desc">Hace el trabajo pesado por ti</div>
          </div>
          <div class="project-option" data-value="otra-tipo">
            <div class="option-icon">üåü</div>
            <div class="option-title">OTRA</div>
            <div class="option-desc">Define tu propia categor√≠a √©pica</div>
          </div>
        </div>
        
        <!-- Campo personalizado para OTRA tipo -->
        <div class="custom-input-container" id="aiWorkbookCustomTypeContainer">
          <input type="text" class="custom-input" id="aiWorkbookCustomType" 
                 placeholder="üöÄ Describe tu tipo de IA personalizado..." maxlength="100">
        </div>
      </div>

      <!-- PASO 2: √ÅREA DE APLICACI√ìN -->
      <div class="project-step">
        <h3 class="step-title">üè≠ PASO 2: ¬øEn qu√© √°rea lo aplicar√≠as?</h3>
        <div class="projects-grid">
          <div class="industry-option" data-value="salud">
            <div class="option-icon">üè•</div>
            <div class="option-title">SALUD</div>
            <div class="option-desc">Medicina y bienestar</div>
          </div>
          <div class="industry-option" data-value="finanzas">
            <div class="option-icon">üí∞</div>
            <div class="option-title">FINANZAS</div>
            <div class="option-desc">Dinero e inversiones</div>
          </div>
          <div class="industry-option" data-value="educacion">
            <div class="option-icon">üéì</div>
            <div class="option-title">EDUCACI√ìN</div>
            <div class="option-desc">Aprendizaje y ense√±anza</div>
          </div>
          <div class="industry-option" data-value="ecommerce">
            <div class="option-icon">üõí</div>
            <div class="option-title">E-COMMERCE</div>
            <div class="option-desc">Ventas online</div>
          </div>
          <div class="industry-option" data-value="entretenimiento">
            <div class="option-icon">üéÆ</div>
            <div class="option-title">GAMING</div>
            <div class="option-desc">Diversi√≥n y entretenimiento</div>
          </div>
          <div class="industry-option" data-value="marketing">
            <div class="option-icon">üìà</div>
            <div class="option-title">MARKETING</div>
            <div class="option-desc">Publicidad y ventas</div>
          </div>
          <div class="industry-option" data-value="logistica">
            <div class="option-icon">üöö</div>
            <div class="option-title">LOG√çSTICA</div>
            <div class="option-desc">Transporte y distribuci√≥n</div>
          </div>
          <div class="industry-option" data-value="otra-area">
            <div class="option-icon">üåü</div>
            <div class="option-title">OTRA</div>
            <div class="option-desc">Tu industria espec√≠fica</div>
          </div>
        </div>
        
        <!-- Campo personalizado para OTRA √°rea -->
        <div class="custom-input-container" id="aiWorkbookCustomAreaContainer">
          <input type="text" class="custom-input" id="aiWorkbookCustomArea" 
                 placeholder="üéØ ¬øEn qu√© industria o √°rea espec√≠fica lo aplicar√≠as?" maxlength="100">
        </div>
      </div>

      <!-- RESULTADO DEL PROYECTO -->
      <div class="test-result" id="aiWorkbookProjectResult">
        <h3 style="font-family: 'Orbitron', monospace; font-size: 1.8rem; color: #FFD700; margin-bottom: 25px; text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);">
          üéâ ¬°Tu proyecto √©pico de IA!
        </h3>
        <div id="aiWorkbookProjectDescription" style="font-size: 1.3rem; color: #FFD700; font-weight: 600; margin-bottom: 25px; line-height: 1.4; text-shadow: 0 0 15px rgba(255, 215, 0, 0.3);"></div>
        <div style="margin-top: 25px;">
          <label style="display: block; font-family: 'Orbitron', monospace; font-size: 1.1rem; color: #FFD700; margin-bottom: 15px; text-shadow: 0 0 10px rgba(255, 215, 0, 0.4);">
            üí≠ Describe c√≥mo cambiar√≠a tu vida este proyecto:
          </label>
          <textarea class="fun-textarea" id="aiWorkbookProjectImpact" 
                    placeholder="Ej: 'Podr√≠a ayudar a miles de personas y ganar dinero haciendo lo que amo'..." 
                    style="min-height: 100px; background: linear-gradient(135deg, rgba(0, 0, 0, 0.9) 0%, rgba(10, 10, 10, 0.9) 100%); border: 2px solid rgba(255, 215, 0, 0.5); box-shadow: 0 0 30px rgba(255, 215, 0, 0.2);"></textarea>
        </div>
      </div>
    </section>

    <!-- SECCI√ìN 6: VISI√ìN DEL FUTURO -->
    <section class="workbook-section">
      <div class="ai-icon">‚è∞</div>
      <h2 class="section-title">üåü Tu vida en 2030</h2>
      <p class="section-subtitle">Imag√≠nate como el maestro de la IA que siempre so√±aste ser</p>
      
      <div style="background: rgba(0, 0, 0, 0.7); border: 2px solid #FFD700; border-radius: 20px; padding: 40px; margin: 40px 0; text-align: center;">
        <div style="font-family: 'Orbitron', monospace; color: #FFD700; font-size: 1rem; margin-bottom: 20px;">
          ‚ú® ESCENARIO: TU MEJOR VIDA EN 2030 ‚ú®
        </div>
        <p style="font-size: 1.3rem; color: #FFD700; line-height: 1.6; font-style: italic;">
          "Son las 10 AM y est√°s despertando en tu casa de ensue√±o. Checas tu tel√©fono: tu sistema de IA gener√≥ $5,000 mientras dorm√≠as. 
          Tienes una videollamada con inversionistas de Silicon Valley en 2 horas, pero primero vas a desayunar tranquilamente. 
          La vida es exactamente como la imaginaste..."
        </p>
      </div>

      <div style="display: grid; gap: 25px; margin: 40px 0;">
        <div>
          <label style="display: block; font-family: 'Orbitron', monospace; font-size: 1.1rem; color: #FFD700; margin-bottom: 15px;">
            üè† ¬øDesde d√≥nde estar√°s trabajando en 2030?
          </label>
          <input type="text" class="fun-input" id="aiWorkbookFutureLocation" 
                 placeholder="Ej: 'Desde mi oficina en casa con vista al mar' o 'Viajando por el mundo'...">
        </div>

        <div>
          <label style="display: block; font-family: 'Orbitron', monospace; font-size: 1.1rem; color: #FFD700; margin-bottom: 15px;">
            üí∞ ¬øCu√°nto te gustar√≠a estar ganando al mes?
          </label>
          <input type="text" class="fun-input" id="aiWorkbookFutureIncome" 
                 placeholder="$_____ USD/MXN mensuales" style="text-align: center; font-size: 1.2rem;">
        </div>

        <div>
          <label style="display: block; font-family: 'Orbitron', monospace; font-size: 1.1rem; color: #FFD700; margin-bottom: 15px;">
            üéØ ¬øQu√© consejo le dar√≠as a tu yo de hoy?
          </label>
          <textarea class="fun-textarea" id="aiWorkbookAdviceToSelf"
                    placeholder="Ej: 'Empieza ya, no esperes el momento perfecto. La IA va a cambiar todo y necesitas estar preparado'..."></textarea>
        </div>
      </div>
    </section>

    <!-- SECCI√ìN 7: COMPROMISO PERSONAL √âPICO -->
    <section class="workbook-section" style="background: linear-gradient(135deg, rgba(255, 215, 0, 0.12) 0%, rgba(255, 215, 0, 0.05) 50%, rgba(255, 215, 0, 0.12) 100%); border: 3px solid rgba(255, 215, 0, 0.6); position: relative; overflow: hidden;">
      <!-- Efectos de fondo √©picos -->
      <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(45deg, transparent, rgba(255, 215, 0, 0.05), transparent); animation: commitmentSweep 6s linear infinite;"></div>
      <div style="position: absolute; top: 20%; right: 10%; width: 100px; height: 100px; border: 2px solid rgba(255, 215, 0, 0.3); border-radius: 50%; animation: float 4s ease-in-out infinite;"></div>
      <div style="position: absolute; bottom: 20%; left: 15%; width: 60px; height: 60px; border: 2px solid rgba(255, 215, 0, 0.4); transform: rotate(45deg); animation: float 3s ease-in-out infinite reverse;"></div>
      
      <div class="ai-icon" style="font-size: 4.5rem; width: 130px; height: 130px; position: relative; z-index: 10;">üöÄ</div>
      <h2 class="section-title" style="font-size: 2.8rem; position: relative; z-index: 10;">üí´ Tu compromiso contigo mismo</h2>
      <p class="section-subtitle" style="position: relative; z-index: 10;">Es momento de hacer esto oficial y sellar tu destino</p>
      
      <div style="position: relative; z-index: 10;">
        <!-- Recordatorio del nombre -->
        <div style="margin: 40px 0; padding: 25px; background: rgba(0, 0, 0, 0.8); border: 2px solid #FFD700; border-radius: 20px; text-align: center;">
          <div style="font-family: 'Orbitron', monospace; font-size: 1.2rem; color: #FFD700; margin-bottom: 10px;">
            üë§ Comprometido por:
          </div>
          <div id="aiWorkbookDisplayName" style="font-size: 1.8rem; color: #FFD700; font-weight: 700; text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);">
            [Tu nombre aparecer√° aqu√≠]
          </div>
        </div>

        <div style="margin: 40px 0;">
          <label style="display: block; font-family: 'Orbitron', monospace; font-size: 1.2rem; color: #FFD700; margin: 25px 0 15px 0; text-align: center; text-shadow: 0 0 10px rgba(255, 215, 0, 0.4);">
            üí≠ ¬øPor qu√© este es TU momento para dominar la IA?
          </label>
          <textarea class="fun-textarea" id="aiWorkbookWhyNow"
                    placeholder="Ej: 'Porque tengo una familia que mantener y quiero darles lo mejor' o 'Porque s√© que puedo cambiar el mundo'..." 
                    style="min-height: 120px; border: 2px solid rgba(255, 215, 0, 0.5); box-shadow: 0 0 30px rgba(255, 215, 0, 0.2);"></textarea>
        </div>

        <!-- Declaraci√≥n personal √©pica -->
        <div style="margin: 50px 0; text-align: center; padding: 40px; background: linear-gradient(135deg, rgba(255, 215, 0, 0.15) 0%, rgba(255, 215, 0, 0.05) 50%, rgba(255, 215, 0, 0.15) 100%); border: 3px solid rgba(255, 215, 0, 0.5); border-radius: 25px; position: relative; overflow: hidden;">
          <div style="position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: linear-gradient(45deg, transparent, rgba(255, 215, 0, 0.1), transparent); animation: declarationGlow 4s linear infinite;"></div>
          
          <div style="font-family: 'Orbitron', monospace; font-size: 1.8rem; color: #FFD700; margin-bottom: 25px; position: relative; z-index: 10; text-shadow: 0 0 20px rgba(255, 215, 0, 0.6);">
            ‚ú® Tu declaraci√≥n personal:
          </div>
          <div style="font-size: 1.4rem; margin-bottom: 20px; color: rgba(255, 215, 0, 0.9); position: relative; z-index: 10;">"Me comprometo a dominar la IA porque..."</div>
          <input type="text" class="fun-input" placeholder="mi raz√≥n m√°s poderosa es..." id="aiWorkbookCommitmentReason" 
                 style="font-size: 1.2rem; text-align: center; border: 3px solid #FFD700; box-shadow: 0 0 40px rgba(255, 215, 0, 0.4); position: relative; z-index: 10;">
        </div>

        <!-- Timeline con efectos -->
        <div style="margin: 40px 0; text-align: center; padding: 30px; background: rgba(0, 0, 0, 0.7); border: 2px solid rgba(255, 215, 0, 0.4); border-radius: 20px;">
          <p style="color: rgba(255, 215, 0, 0.8); font-size: 1.2rem; margin-bottom: 20px; font-family: 'Orbitron', monospace;">
            ‚è∞ ¬øEn cu√°ntos meses quieres estar trabajando profesionalmente con IA?
          </p>
          <div style="display: flex; align-items: center; justify-content: center; gap: 20px; flex-wrap: wrap;">
            <input type="number" class="fun-input" placeholder="6" id="aiWorkbookTimelineMonths" 
                   style="max-width: 150px; text-align: center; font-size: 1.4rem; border: 2px solid #FFD700; box-shadow: 0 0 30px rgba(255, 215, 0, 0.3);" 
                   min="1" max="60">
            <div style="font-size: 1.1rem; color: #FFD700; font-weight: 600;">meses</div>
          </div>
          <p style="margin-top: 15px; font-size: 0.9rem; color: rgba(255, 215, 0, 0.6);">
            (S√© realista, pero tambi√©n ambicioso üéØ)
          </p>
        </div>

        <!-- Zona de firma digital -->
        <div style="margin: 50px 0; padding: 40px; background: linear-gradient(135deg, rgba(0, 0, 0, 0.9) 0%, rgba(20, 20, 20, 0.9) 100%); border: 3px solid #FFD700; border-radius: 25px; text-align: center; position: relative;">
          <div style="position: absolute; top: 0; left: 0; width: 100%; height: 2px; background: linear-gradient(90deg, transparent, #FFD700, transparent); animation: signatureScan 3s ease-in-out infinite;"></div>
          
          <div style="font-family: 'Orbitron', monospace; font-size: 1.4rem; color: #FFD700; margin-bottom: 20px; text-shadow: 0 0 15px rgba(255, 215, 0, 0.5);">
            üñäÔ∏è Firma Digital de Compromiso
          </div>
          
          <div style="font-size: 1rem; color: rgba(255, 215, 0, 0.8); margin-bottom: 20px; line-height: 1.5;">
            Al completar este workbook, me comprometo a tomar acci√≥n hacia el dominio de la IA
          </div>
          
          <div id="aiWorkbookSignature" style="font-size: 1.6rem; color: #FFD700; font-weight: 700; font-family: 'Orbitron', monospace; padding: 15px; border: 2px dashed rgba(255, 215, 0, 0.5); border-radius: 10px; min-height: 60px; display: flex; align-items: center; justify-content: center;">
            [Firma se generar√° autom√°ticamente]
          </div>
          
          <div style="margin-top: 15px; font-size: 0.8rem; color: rgba(255, 215, 0, 0.6);">
            Firmado digitalmente el <span id="aiWorkbookSignatureDate"></span>
          </div>
        </div>
      </div>
    </section>

    <!-- SECCI√ìN FINAL √âPICA -->
    <section class="final-section">
      <div class="ai-icon" style="font-size: 4rem; width: 120px; height: 120px; margin: 0 auto 30px;">üéØ</div>
      
      <h1 class="final-title">¬°Tu aventura en IA est√° a punto de comenzar!</h1>
      
      <p class="final-text">
        Has completado el test m√°s √©pico del universo IA.<br>
        Ahora es momento de convertir tus sue√±os en realidad.
      </p>
      
      <div style="text-align: center; margin: 40px 0;">
        <button class="epic-btn btn-download" onclick="downloadWorkbook()">
          üì• DESCARGAR MI REPORTE PERSONAL
        </button>
      </div>
      
      <div style="margin-top: 50px; padding: 30px; background: rgba(255, 215, 0, 0.1); border-radius: 15px; border: 1px solid rgba(255, 215, 0, 0.3);">
        <p style="font-size: 1.2rem; font-weight: 600; color: #FFD700; margin-bottom: 10px;">
          ü§ñ "El futuro pertenece a quienes dominan la IA"
        </p>
        <p style="color: rgba(255, 215, 0, 0.7); font-size: 1rem;">
          Tu yo del futuro te est√° esperando ‚ú®
        </p>
      </div>
    </section>
  </div>

  <script>
    // Variables globales con IDs √∫nicos y sistema de nombres
    let aiWorkbookUserData = {};
    let aiWorkbookSelectedPersonality = '';
    let aiWorkbookUserMainName = ''; // Nombre principal como ID
    
    // üñºÔ∏è SISTEMA DE CARGA DE LOGO CON M√öLTIPLES OPCIONES
    function tryAlternativeLogos(imgElement) {
      const logoUrls = [
        './futuro_digital_logo_correcto.png',
        'futuro_digital_logo_correcto.png',
        './assets/futuro_digital_logo_correcto.png',
        './images/futuro_digital_logo_correcto.png',
        './img/futuro_digital_logo_correcto.png',
        'https://via.placeholder.com/300x150/FFD700/000000?text=FUTURO+DIGITAL'
      ];
      
      const currentSrc = imgElement.src;
      const currentIndex = logoUrls.findIndex(url => currentSrc.includes(url.replace('./', '')));
      
      if (currentIndex < logoUrls.length - 1) {
        // Probar siguiente URL
        imgElement.src = logoUrls[currentIndex + 1];
      } else {
        // Si todas fallan, mostrar fallback
        imgElement.style.display = 'none';
        document.querySelector('.logo-fallback').style.display = 'block';
        console.log('üñºÔ∏è Logo no encontrado, usando fallback text');
      }
    }
    
    // Funci√≥n para generar ID √∫nico basado en nombre
    function generateUserID(name) {
      if (!name || name.trim().length === 0) return null;
      
      const cleanName = name.trim()
        .toLowerCase()
        .replace(/\s+/g, '_')
        .replace(/[√°√†√§√¢]/g, 'a')
        .replace(/[√©√®√´√™]/g, 'e')
        .replace(/[√≠√¨√Ø√Æ]/g, 'i')
        .replace(/[√≥√≤√∂√¥]/g, 'o')
        .replace(/[√∫√π√º√ª]/g, 'u')
        .replace(/[√±]/g, 'n')
        .replace(/[^a-z0-9_]/g, '');
      
      const timestamp = Date.now();
      return `${cleanName}_${timestamp}`;
    }
    
    // Validar nombre completo
    function validateFullName(name) {
      if (!name || name.trim().length < 3) return false;
      
      const words = name.trim().split(/\s+/);
      if (words.length < 2) return false;
      
      // Verificar que contenga solo letras, espacios y acentos
      const nameRegex = /^[a-zA-Z√°√©√≠√≥√∫√Å√â√ç√ì√ö√±√ë√º√ú\s]+$/;
      return nameRegex.test(name);
    }
    
    // Configurar sistema de nombres
    function setupNameSystem() {
      const nameInput = document.getElementById('aiWorkbookUserName');
      const nameValidation = document.getElementById('aiWorkbookNameValidation');
      const displayName = document.getElementById('aiWorkbookDisplayName');
      const signatureArea = document.getElementById('aiWorkbookSignature');
      const signatureDate = document.getElementById('aiWorkbookSignatureDate');
      
      // Mostrar fecha actual
      signatureDate.textContent = new Date().toLocaleDateString('es-ES', {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
      });
      
      nameInput.addEventListener('input', function() {
        const name = this.value.trim();
        
        if (name.length === 0) {
          nameValidation.style.opacity = '0';
          this.className = 'fun-input';
          displayName.textContent = '[Tu nombre aparecer√° aqu√≠]';
          signatureArea.textContent = '[Firma se generar√° autom√°ticamente]';
          aiWorkbookUserMainName = '';
          return;
        }
        
        if (validateFullName(name)) {
          nameValidation.textContent = '‚úÖ Nombre v√°lido - Bienvenido al futuro, ' + name.split(' ')[0] + '!';
          nameValidation.style.color = '#4CAF50';
          nameValidation.style.opacity = '1';
          this.className = 'fun-input name-valid';
          
          // Actualizar displays
          displayName.textContent = name;
          signatureArea.textContent = `${name} - Futuro Maestro de IA`;
          
          // Guardar como nombre principal
          aiWorkbookUserMainName = name;
          aiWorkbookUserData.mainUserName = name;
          aiWorkbookUserData.userID = generateUserID(name);
          
          // Efecto de confirmaci√≥n
          if ('vibrate' in navigator) {
            navigator.vibrate([50, 100, 50]);
          }
          
          saveData();
          
        } else {
          nameValidation.textContent = '‚ùå Ingresa tu nombre completo (m√≠nimo nombre y apellido)';
          nameValidation.style.color = '#ff4444';
          nameValidation.style.opacity = '1';
          this.className = 'fun-input name-invalid';
          displayName.textContent = '[Nombre inv√°lido]';
          signatureArea.textContent = '[Completa tu nombre primero]';
          aiWorkbookUserMainName = '';
        }
      });
      
      // Efecto especial al hacer focus
      nameInput.addEventListener('focus', function() {
        this.style.transform = 'scale(1.05)';
        this.style.boxShadow = '0 0 50px rgba(255, 215, 0, 0.6)';
      });
      
      nameInput.addEventListener('blur', function() {
        this.style.transform = 'scale(1)';
        this.style.boxShadow = '0 0 40px rgba(255, 215, 0, 0.4)';
      });
    }
    
    // Test de personalidad
    function setupPersonalityTest() {
      const personalities = {
        innovator: {
          title: "üöÄ EL INNOVADOR C√ìSMICO",
          description: "Eres el tipo de persona que ve el futuro antes que todos. Tu misi√≥n: crear cosas que nadie ha imaginado. Con IA, vas a revolucionar industrias completas."
        },
        solver: {
          title: "üß© EL SOLUCIONADOR MAGISTRAL", 
          description: "Tienes el don de encontrar la soluci√≥n perfecta para cualquier problema. La IA ser√° tu herramienta para resolver los desaf√≠os m√°s complejos del mundo."
        },
        teacher: {
          title: "üß† EL ENSE√ëADOR INSPIRADOR",
          description: "Tu superpoder es hacer que otros entiendan cosas complicadas. Con IA, vas a democratizar el conocimiento y cambiar la educaci√≥n para siempre."
        },
        builder: {
          title: "‚ö° EL CONSTRUCTOR LEGENDARIO",
          description: "Eres un arquitecto de sistemas √©picos. La IA ser√° tu material de construcci√≥n para crear infraestructuras que cambien el mundo."
        }
      };
      
      document.querySelectorAll('.test-option').forEach(option => {
        option.addEventListener('click', function() {
          document.querySelectorAll('.test-option').forEach(opt => opt.classList.remove('selected'));
          this.classList.add('selected');
          
          aiWorkbookSelectedPersonality = this.dataset.personality;
          const personalityData = personalities[aiWorkbookSelectedPersonality];
          
          document.getElementById('aiWorkbookPersonalityResult').classList.add('show');
          document.getElementById('aiWorkbookPersonalityDescription').innerHTML = `
            <strong>${personalityData.title}</strong><br><br>
            ${personalityData.description}
          `;
          
          aiWorkbookUserData.personality = aiWorkbookSelectedPersonality;
          aiWorkbookUserData.personalityTitle = personalityData.title;
          aiWorkbookUserData.personalityDescription = personalityData.description;
          
          saveData();
          showSaveMessage();
        });
      });
    }

    // Configurar slider de Python
    function setupPythonSlider() {
      const slider = document.getElementById('aiWorkbookPythonSlider');
      const emoji = document.getElementById('aiWorkbookPythonEmoji');
      const level = document.getElementById('aiWorkbookPythonLevel');
      const description = document.getElementById('aiWorkbookPythonDescription');
      
      const levels = [
        { emoji: 'üòÖ', level: 'NOVATO TOTAL', desc: '"Python... ¬øeso no es una serpiente? üêç"' },
        { emoji: 'ü§î', level: 'EXPLORADOR CURIOSO', desc: '"He visto algunos tutoriales y ya entiendo qu√© son las variables"' },
        { emoji: 'üêç', level: 'APRENDIZ VALIENTE', desc: '"Puedo hacer scripts b√°sicos y usar algunas librer√≠as"' },
        { emoji: 'üß†', level: 'PROGRAMADOR S√ìLIDO', desc: '"Domino funciones, clases y frameworks como pandas"' },
        { emoji: 'ü§ñ', level: 'NINJA DEL C√ìDIGO', desc: '"Soy pr√°cticamente un modelo de machine learning andante!"' }
      ];
      
      slider.addEventListener('input', function() {
        const levelData = levels[this.value - 1];
        emoji.textContent = levelData.emoji;
        level.textContent = levelData.level;
        description.textContent = levelData.desc;
        aiWorkbookUserData.pythonLevel = this.value;
        aiWorkbookUserData.pythonLevelName = levelData.level;
        
        saveData();
      });
    }

    // Simulador de proyectos √©picos MEJORADO
    function setupProjectSimulator() {
      let selectedType = '';
      let selectedIndustry = '';
      let customType = '';
      let customArea = '';
      
      // Tipo de proyecto
      document.querySelectorAll('.project-option').forEach(option => {
        option.addEventListener('click', function() {
          document.querySelectorAll('.project-option').forEach(opt => opt.classList.remove('selected'));
          this.classList.add('selected');
          
          selectedType = this.dataset.value;
          aiWorkbookUserData.projectType = selectedType;
          
          // Manejar campo personalizado para tipo
          const customContainer = document.getElementById('aiWorkbookCustomTypeContainer');
          if (selectedType === 'otra-tipo') {
            customContainer.classList.add('show');
            document.getElementById('aiWorkbookCustomType').focus();
          } else {
            customContainer.classList.remove('show');
            customType = '';
            document.getElementById('aiWorkbookCustomType').value = '';
          }
          
          // Efecto visual √©pico
          this.style.animation = 'selectedBurst 0.6s ease';
          setTimeout(() => {
            this.style.animation = '';
          }, 600);
          
          updateProjectResult();
          saveData();
          showSaveMessage();
        });
      });
      
      // Industria
      document.querySelectorAll('.industry-option').forEach(option => {
        option.addEventListener('click', function() {
          document.querySelectorAll('.industry-option').forEach(opt => opt.classList.remove('selected'));
          this.classList.add('selected');
          
          selectedIndustry = this.dataset.value;
          aiWorkbookUserData.projectIndustry = selectedIndustry;
          
          // Manejar campo personalizado para √°rea
          const customContainer = document.getElementById('aiWorkbookCustomAreaContainer');
          if (selectedIndustry === 'otra-area') {
            customContainer.classList.add('show');
            document.getElementById('aiWorkbookCustomArea').focus();
          } else {
            customContainer.classList.remove('show');
            customArea = '';
            document.getElementById('aiWorkbookCustomArea').value = '';
          }
          
          // Efecto visual √©pico
          this.style.animation = 'selectedBurst 0.6s ease';
          setTimeout(() => {
            this.style.animation = '';
          }, 600);
          
          updateProjectResult();
          saveData();
          showSaveMessage();
        });
      });
      
      // Eventos para campos personalizados
      document.getElementById('aiWorkbookCustomType').addEventListener('input', function() {
        customType = this.value.trim();
        aiWorkbookUserData.customType = customType;
        updateProjectResult();
        saveData();
      });
      
      document.getElementById('aiWorkbookCustomArea').addEventListener('input', function() {
        customArea = this.value.trim();
        aiWorkbookUserData.customArea = customArea;
        updateProjectResult();
        saveData();
      });
      
      function updateProjectResult() {
        // Determinar tipo final
        let finalType = selectedType;
        if (selectedType === 'otra-tipo' && customType) {
          finalType = customType;
        }
        
        // Determinar √°rea final
        let finalArea = selectedIndustry;
        if (selectedIndustry === 'otra-area' && customArea) {
          finalArea = customArea;
        }
        
        if (finalType && finalArea) {
          let description = '';
          
          // Combinaciones predefinidas
          const projectCombinations = {
            'asistente-salud': 'ü§ñ Un asistente m√©dico que ayuda a doctores a diagnosticar enfermedades m√°s r√°pido',
            'asistente-finanzas': 'üí∞ Un asesor financiero personal que te ayuda a invertir como un experto',
            'asistente-educacion': 'üéì Un tutor personal que adapta las lecciones a tu estilo de aprendizaje',
            'asistente-ecommerce': 'üõí Un asistente de compras que sabe exactamente qu√© necesitas',
            'asistente-entretenimiento': 'üéÆ Un compa√±ero de juegos que hace que cada partida sea √©pica',
            'asistente-marketing': 'üìà Un experto en marketing que optimiza tus campa√±as autom√°ticamente',
            'asistente-logistica': 'üöö Un coordinador log√≠stico que optimiza rutas y entregas',
            
            'vision-salud': 'üëÅÔ∏è Una IA que puede detectar enfermedades en radiograf√≠as mejor que los humanos',
            'vision-finanzas': 'üí∞ Un sistema que detecta fraudes financieros al instante',
            'vision-educacion': 'üéì Una IA que eval√∫a tareas y da feedback personalizado',
            'vision-ecommerce': 'üõí Un sistema que reconoce productos y ayuda a los clientes a encontrar lo que buscan',
            'vision-entretenimiento': 'üéÆ Una IA que genera mundos de videojuegos ultra realistas',
            'vision-marketing': 'üìà Un analizador visual que sabe qu√© contenido se volver√° viral',
            'vision-logistica': 'üöö Un sistema de visi√≥n que optimiza el empaquetado y clasificaci√≥n',
            
            'predictor-salud': 'üîÆ Un predictor que anticipa epidemias y salva vidas',
            'predictor-finanzas': 'üí∞ Un or√°culo financiero que predice los mercados con precisi√≥n incre√≠ble',
            'predictor-educacion': 'üéì Un sistema que predice qu√© estudiantes necesitan ayuda extra',
            'predictor-ecommerce': 'üõí Un predictor de tendencias que sabe qu√© productos van a explotar',
            'predictor-entretenimiento': 'üéÆ Una IA que predice qu√© juegos ser√°n los pr√≥ximos hits',
            'predictor-marketing': 'üìà Un visionario digital que predice qu√© contenido se volver√° viral',
            'predictor-logistica': 'üöö Un predictor de demanda que optimiza inventarios y rutas',
            
            'automatizador-salud': '‚ö° Un robot que automatiza procedimientos m√©dicos con precisi√≥n perfecta',
            'automatizador-finanzas': 'üí∞ Un sistema que ejecuta inversiones autom√°ticamente mientras duermes',
            'automatizador-educacion': 'üéì Una plataforma que crea cursos personalizados autom√°ticamente',
            'automatizador-ecommerce': 'üõí Una IA que maneja todo tu negocio online sin intervenci√≥n humana',
            'automatizador-entretenimiento': 'üéÆ Un generador autom√°tico de contenido gaming infinito',
            'automatizador-marketing': 'üìà Una IA que crea y ejecuta campa√±as millonarias sola',
            'automatizador-logistica': 'üöö Un automatizador completo de cadenas de suministro'
          };
          
          // Buscar combinaci√≥n predefinida
          const key = `${selectedType}-${selectedIndustry}`;
          if (projectCombinations[key]) {
            description = projectCombinations[key];
          } else {
            // Crear descripci√≥n personalizada
            let typeDesc = '';
            let areaDesc = finalArea;
            
            switch(selectedType) {
              case 'asistente':
                typeDesc = 'ü§ñ Un asistente inteligente especializado en';
                break;
              case 'vision':
                typeDesc = 'üëÅÔ∏è Un sistema de visi√≥n artificial para';
                break;
              case 'predictor':
                typeDesc = 'üîÆ Un predictor avanzado para';
                break;
              case 'automatizador':
                typeDesc = '‚ö° Un automatizador completo para';
                break;
              case 'otra-tipo':
                typeDesc = `üåü ${customType} especializado en`;
                break;
              default:
                typeDesc = 'üöÄ Una IA revolucionaria para';
            }
            
            description = `${typeDesc} ${areaDesc}`;
          }
          
          // Mostrar resultado con efecto √©pico
          const resultElement = document.getElementById('aiWorkbookProjectResult');
          const descElement = document.getElementById('aiWorkbookProjectDescription');
          
          resultElement.classList.add('show');
          descElement.textContent = description;
          
          // Efecto de aparici√≥n √©pica
          descElement.style.animation = 'projectReveal 1s ease';
          
          aiWorkbookUserData.projectDescription = description;
          aiWorkbookUserData.finalProjectType = finalType;
          aiWorkbookUserData.finalProjectArea = finalArea;
          
          saveData();
          showSaveMessage();
        }
      }
    }

    // Manejar selecci√≥n de avatares
    function setupAvatarSelection() {
      document.querySelectorAll('.avatar-card').forEach(card => {
        card.addEventListener('click', function() {
          document.querySelectorAll('.avatar-card').forEach(c => c.classList.remove('selected'));
          this.classList.add('selected');
          
          aiWorkbookUserData.avatar = this.dataset.avatar;
          aiWorkbookUserData.avatarName = this.querySelector('.avatar-name').textContent;
          
          saveData();
          showSaveMessage();
        });
      });
    }

    // Guardar datos con sistema de nombres como ID principal
    function saveData() {
      // Si no hay nombre principal, no guardar
      if (!aiWorkbookUserMainName || aiWorkbookUserMainName.trim().length === 0) {
        console.log('No se puede guardar sin nombre principal');
        return;
      }
      
      // Guardar inputs de texto
      const inputs = document.querySelectorAll('.fun-input, .fun-textarea');
      inputs.forEach(input => {
        if (input.value.trim()) {
          aiWorkbookUserData[input.id] = input.value.trim();
        }
      });
      
      // Datos principales del usuario
      aiWorkbookUserData.mainUserName = aiWorkbookUserMainName;
      aiWorkbookUserData.userID = generateUserID(aiWorkbookUserMainName);
      aiWorkbookUserData.timestamp = new Date().toISOString();
      aiWorkbookUserData.lastUpdated = new Date().toISOString();
      aiWorkbookUserData.completedSections = Object.keys(aiWorkbookUserData).length;
      
      // Preparar datos para Google Sheets (una fila por usuario)
      const googleSheetsData = {
        // IDENTIFICACI√ìN
        nombre_completo: aiWorkbookUserMainName,
        user_id: aiWorkbookUserData.userID,
        fecha_registro: aiWorkbookUserData.timestamp,
        ultima_actualizacion: aiWorkbookUserData.lastUpdated,
        
        // MOTIVACI√ìN
        problema_mundial: aiWorkbookUserData.aiWorkbookWorldProblem || '',
        area_magica: aiWorkbookUserData.aiWorkbookMagicArea || '',
        sueno_personal: aiWorkbookUserData.aiWorkbookCompleteDream || '',
        
        // PERSONALIDAD
        tipo_personalidad: aiWorkbookUserData.personality || '',
        titulo_personalidad: aiWorkbookUserData.personalityTitle || '',
        
        // AVATAR
        avatar_seleccionado: aiWorkbookUserData.avatar || '',
        nombre_avatar: aiWorkbookUserData.avatarName || '',
        
        // PYTHON
        nivel_python: aiWorkbookUserData.pythonLevel || '',
        nombre_nivel_python: aiWorkbookUserData.pythonLevelName || '',
        emocion_programar: aiWorkbookUserData.aiWorkbookPythonExcitement || '',
        
        // PROYECTO
        tipo_proyecto: aiWorkbookUserData.projectType || '',
        area_proyecto: aiWorkbookUserData.projectIndustry || '',
        tipo_personalizado: aiWorkbookUserData.customType || '',
        area_personalizada: aiWorkbookUserData.customArea || '',
        descripcion_proyecto: aiWorkbookUserData.projectDescription || '',
        impacto_proyecto: aiWorkbookUserData.aiWorkbookProjectImpact || '',
        
        // FUTURO
        ubicacion_2030: aiWorkbookUserData.aiWorkbookFutureLocation || '',
        ingresos_deseados: aiWorkbookUserData.aiWorkbookFutureIncome || '',
        consejo_futuro: aiWorkbookUserData.aiWorkbookAdviceToSelf || '',
        
        // COMPROMISO
        razon_momento: aiWorkbookUserData.aiWorkbookWhyNow || '',
        razon_compromiso: aiWorkbookUserData.aiWorkbookCommitmentReason || '',
        timeline_meses: aiWorkbookUserData.aiWorkbookTimelineMonths || '',
        
        // METADATA
        secciones_completadas: aiWorkbookUserData.completedSections,
        datos_completos: JSON.stringify(aiWorkbookUserData)
      };
      
      // Guardar en localStorage con nombre como clave
      const storageKey = `aiWorkbook_${aiWorkbookUserMainName.replace(/\s+/g, '_')}`;
      localStorage.setItem(storageKey, JSON.stringify(googleSheetsData));
      localStorage.setItem('aiWorkbookCurrentUser', aiWorkbookUserMainName);
      
      console.log('üìä Datos listos para Google Sheets:', googleSheetsData);
    }

    // Mostrar mensaje de guardado √©pico
    function showSaveMessage() {
      const message = document.getElementById('aiWorkbookSaveMessage');
      message.classList.add('show');
      
      setTimeout(() => {
        message.classList.remove('show');
      }, 3000);
    }

    // Auto-guardado en inputs
    function setupAutoSave() {
      document.querySelectorAll('.fun-input, .fun-textarea').forEach(input => {
        input.addEventListener('input', function() {
          clearTimeout(this.saveTimeout);
          this.saveTimeout = setTimeout(() => {
            saveData();
            showSaveMessage();
          }, 1500);
        });
        
        input.addEventListener('focus', function() {
          this.style.transform = 'scale(1.02)';
        });
        
        input.addEventListener('blur', function() {
          this.style.transform = 'scale(1)';
        });
      });
    }

    // üöÄ FUNCI√ìN DE DESCARGA PDF - UNA SOLA HOJA LARGA VERTICAL
    async function downloadWorkbook() {
      // Recopilar todos los datos finales
      saveData();
      
      // Crear efecto √©pico de descarga
      const message = document.createElement('div');
      message.style.cssText = `
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: linear-gradient(135deg, rgba(0, 0, 0, 0.95) 0%, rgba(10, 10, 10, 0.95) 100%);
        color: #FFD700;
        padding: 50px;
        border-radius: 25px;
        border: 2px solid #FFD700;
        font-family: 'Orbitron', monospace;
        font-size: 1.3rem;
        text-align: center;
        z-index: 10001;
        box-shadow: 0 30px 60px rgba(0, 0, 0, 0.8), 0 0 80px rgba(255, 215, 0, 0.3);
        backdrop-filter: blur(15px);
      `;
      message.innerHTML = `
        <div style="font-size: 4rem; margin-bottom: 20px; animation: spin 2s linear infinite;">üöÄ</div>
        <div style="margin-bottom: 15px;">¬°COMPILANDO TU REPORTE PERSONAL!</div>
        <div style="font-size: 1rem; color: rgba(255, 215, 0, 0.8);">
          Capturando: ${Object.keys(aiWorkbookUserData).length} datos s√∫per personalizados
        </div>
        <div style="margin-top: 20px; font-size: 0.9rem; opacity: 0.9;">
          Generando PDF en hoja larga vertical...
        </div>
      `;
      
      document.body.appendChild(message);
      
      try {
        // Preparar el √°rea para captura (quitar elementos fixed)
        const elementsToHide = [
          '.save-message',
          '.circuit-bg',
          '.glow-overlay'
        ];
        
        const hiddenElements = [];
        elementsToHide.forEach(selector => {
          const elements = document.querySelectorAll(selector);
          elements.forEach(el => {
            hiddenElements.push({element: el, display: el.style.display});
            el.style.display = 'none';
          });
        });
        
        // Obtener el elemento principal a capturar
        const captureElement = document.body;
        
        // Configurar opciones para html2canvas - UNA SOLA HOJA LARGA
        const canvas = await html2canvas(captureElement, {
          scale: 1.5, // Mejor calidad
          useCORS: true,
          allowTaint: true,
          backgroundColor: '#000000',
          width: captureElement.scrollWidth,
          height: captureElement.scrollHeight, // Capturar TODA la altura
          x: 0,
          y: 0,
          scrollX: 0,
          scrollY: 0,
          windowWidth: window.innerWidth,
          windowHeight: captureElement.scrollHeight, // Altura completa
          foreignObjectRendering: true,
          removeContainer: true
        });
        
        // Configurar PDF con dimensiones para UNA SOLA HOJA LARGA VERTICAL
        const { jsPDF } = window.jspdf;
        
        // Dimensiones del canvas
        const imgWidth = canvas.width;
        const imgHeight = canvas.height;
        
        // Configurar PDF - Ancho A4, altura ajustada al contenido
        const pdfWidth = 210; // A4 width en mm
        const pdfHeight = (imgHeight * pdfWidth) / imgWidth; // Altura proporcional
        
        // Crear PDF con altura personalizada (UNA SOLA HOJA LARGA)
        const pdf = new jsPDF({
          orientation: 'portrait',
          unit: 'mm',
          format: [pdfWidth, pdfHeight] // Formato personalizado - UNA HOJA LARGA
        });
        
        // Agregar logo al principio del PDF
        try {
          // Intentar obtener el logo del workbook actual
          const logoElement = document.getElementById('mainLogo');
          const logoUrls = [
            './futuro_digital_logo_correcto.png',
            'futuro_digital_logo_correcto.png',
            './assets/futuro_digital_logo_correcto.png',
            './images/futuro_digital_logo_correcto.png',
            './img/futuro_digital_logo_correcto.png'
          ];
          
          let logoLoaded = false;
          
          // Probar cargar el logo con m√∫ltiples URLs
          for (const logoUrl of logoUrls) {
            try {
              const logoImg = new Image();
              logoImg.crossOrigin = 'anonymous';
              
              await new Promise((resolve, reject) => {
                logoImg.onload = () => {
                  try {
                    // Agregar logo centrado en la parte superior
                    const logoWidth = 60; // mm
                    const logoHeight = 30; // mm
                    const logoX = (pdfWidth - logoWidth) / 2;
                    const logoY = 10;
                    
                    pdf.addImage(logoImg, 'PNG', logoX, logoY, logoWidth, logoHeight);
                    logoLoaded = true;
                    console.log('‚úÖ Logo agregado al PDF exitosamente');
                    resolve();
                  } catch (e) {
                    reject(e);
                  }
                };
                logoImg.onerror = () => reject(new Error('Logo no encontrado'));
                logoImg.src = logoUrl;
              });
              
              if (logoLoaded) break; // Si se carg√≥ exitosamente, salir del loop
              
            } catch (e) {
              console.log(`‚ùå No se pudo cargar logo desde: ${logoUrl}`);
              continue; // Probar siguiente URL
            }
          }
          
          if (!logoLoaded) {
            console.log('‚ö†Ô∏è No se pudo cargar ning√∫n logo, continuando sin logo');
          }
          
        } catch (e) {
          console.log('‚ùå Error general con logo, continuando sin logo:', e);
        }
        
        // Convertir canvas a imagen y agregar al PDF
        const imgData = canvas.toDataURL('image/png', 0.9);
        
        // Agregar la imagen del workbook completo en UNA SOLA P√ÅGINA
        pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);
        
        // Generar nombre del archivo
        const userName = aiWorkbookUserMainName || 'Usuario';
        const sanitizedName = userName.replace(/[^a-zA-Z0-9]/g, '_');
        const timestamp = new Date().toISOString().slice(0, 10);
        const fileName = `Workbook_IA_${sanitizedName}_${timestamp}.pdf`;
        
        // Descargar el PDF
        pdf.save(fileName);
        
        // Restaurar elementos ocultos
        hiddenElements.forEach(({element, display}) => {
          element.style.display = display;
        });
        
        // Quitar mensaje de carga
        if (message.parentNode) {
          message.remove();
        }
        
        // Mensaje de √©xito √©pico
        const successMessage = document.createElement('div');
        successMessage.style.cssText = `
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          background: linear-gradient(135deg, rgba(76, 175, 80, 0.95) 0%, rgba(56, 142, 60, 0.95) 100%);
          color: white;
          padding: 40px;
          border-radius: 20px;
          font-family: 'Orbitron', monospace;
          font-size: 1.3rem;
          text-align: center;
          z-index: 10002;
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6);
          backdrop-filter: blur(10px);
        `;
        successMessage.innerHTML = `
          <div style="font-size: 3rem; margin-bottom: 15px;">üéâ</div>
          <div style="margin-bottom: 10px;">¬°PDF GENERADO EXITOSAMENTE!</div>
          <div style="font-size: 1rem; opacity: 0.9;">
            Tu workbook completo se descarg√≥ como una hoja larga vertical
          </div>
        `;
        
        document.body.appendChild(successMessage);
        
        setTimeout(() => {
          if (successMessage.parentNode) {
            successMessage.remove();
          }
        }, 4000);
        
        console.log('üìÑ PDF generado exitosamente como hoja larga vertical');
        
      } catch (error) {
        console.error('Error generando PDF:', error);
        
        // Quitar mensaje de carga
        if (message.parentNode) {
          message.remove();
        }
        
        // Mensaje de error
        alert('Error generando el PDF. Por favor intenta de nuevo.');
      }
    }

    // Cargar datos guardados
    function loadSavedData() {
      const savedData = localStorage.getItem('aiWorkbookCompleteData');
      if (savedData) {
        aiWorkbookUserData = JSON.parse(savedData);
        
        // Restaurar inputs
        Object.keys(aiWorkbookUserData).forEach(key => {
          const input = document.getElementById(key);
          if (input) {
            input.value = aiWorkbookUserData[key];
          }
        });
        
        // Restaurar selecciones
        if (aiWorkbookUserData.avatar) {
          const avatarCard = document.querySelector(`[data-avatar="${aiWorkbookUserData.avatar}"]`);
          if (avatarCard) {
            avatarCard.classList.add('selected');
          }
        }
        
        if (aiWorkbookUserData.personality) {
          const personalityOption = document.querySelector(`[data-personality="${aiWorkbookUserData.personality}"]`);
          if (personalityOption) {
            personalityOption.classList.add('selected');
            document.getElementById('aiWorkbookPersonalityResult').classList.add('show');
            if (aiWorkbookUserData.personalityDescription) {
              document.getElementById('aiWorkbookPersonalityDescription').innerHTML = `
                <strong>${aiWorkbookUserData.personalityTitle}</strong><br><br>
                ${aiWorkbookUserData.personalityDescription}
              `;
            }
          }
        }
        
        // Restaurar slider de Python
        if (aiWorkbookUserData.pythonLevel) {
          const slider = document.getElementById('aiWorkbookPythonSlider');
          if (slider) {
            slider.value = aiWorkbookUserData.pythonLevel;
            slider.dispatchEvent(new Event('input'));
          }
        }
        
        // Restaurar selecciones de proyecto
        if (aiWorkbookUserData.projectType) {
          const projectOption = document.querySelector(`[data-value="${aiWorkbookUserData.projectType}"]`);
          if (projectOption && projectOption.classList.contains('project-option')) {
            projectOption.classList.add('selected');
          }
        }
        
        if (aiWorkbookUserData.projectIndustry) {
          const industryOption = document.querySelector(`[data-value="${aiWorkbookUserData.projectIndustry}"]`);
          if (industryOption && industryOption.classList.contains('industry-option')) {
            industryOption.classList.add('selected');
          }
        }
        
        // Mostrar resultado del proyecto si existe
        if (aiWorkbookUserData.projectDescription) {
          document.getElementById('aiWorkbookProjectResult').classList.add('show');
          document.getElementById('aiWorkbookProjectDescription').textContent = aiWorkbookUserData.projectDescription;
        }
      }
    }

    // Animaciones adicionales
    const style = document.createElement('style');
    style.textContent = `
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      
      @keyframes selectedBurst {
        0% { transform: scale(1); }
        50% { transform: scale(1.15); box-shadow: 0 0 50px rgba(255, 215, 0, 0.8); }
        100% { transform: scale(1.05); }
      }
      
      @keyframes projectReveal {
        0% { 
          opacity: 0; 
          transform: translateY(20px) scale(0.9); 
        }
        100% { 
          opacity: 1; 
          transform: translateY(0) scale(1); 
        }
      }
    `;
    document.head.appendChild(style);

    // Inicializar toda la aplicaci√≥n
    document.addEventListener('DOMContentLoaded', function() {
      // Verificar carga del logo
      const logoElement = document.getElementById('mainLogo');
      if (logoElement) {
        logoElement.onload = () => {
          console.log('‚úÖ Logo cargado exitosamente');
        };
        logoElement.onerror = () => {
          console.log('‚ùå Error cargando logo, probando alternativas...');
          tryAlternativeLogos(logoElement);
        };
      }
      
      setupNameSystem(); // Sistema de nombres
      setupPersonalityTest();
      setupPythonSlider();
      setupProjectSimulator();
      setupAvatarSelection();
      setupAutoSave();
      loadSavedData();
      
      console.log('üöÄ Workbook IA √©pico cargado completamente con sistema de nombres y PDF de hoja larga');
      
      // Mensaje de bienvenida √©pico
      setTimeout(() => {
        if (Object.keys(aiWorkbookUserData).length === 0) {
          showSaveMessage();
        }
      }, 1000);
    });

    // Auto-guardado cada 30 segundos
    setInterval(() => {
      const activeInput = document.querySelector('.fun-input:focus, .fun-textarea:focus');
      if (activeInput) {
        saveData();
      }
    }, 30000);

    // Detectar abandono de p√°gina
    window.addEventListener('beforeunload', function() {
      saveData();
    });
  </script>
</body>
</html>
